<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Agregar Usuarios</title>
</head>
<body>
  <h1>Formulario para agregar usuarios</h1>

  <form id="formulario">
    <input type="text" id="nombre" placeholder="Ingresa un nombre" required>
    <button type="submit">Agregar</button>
  </form>

  <p id="respuesta"></p>

  <script>
    const form = document.getElementById('formulario');
const respuesta = document.getElementById('respuesta');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const nombre = document.getElementById('nombre').value.trim();

  if (!nombre) {
    respuesta.textContent = 'Por favor escribe un nombre válido.';
    return;
  }

  try {
    const res = await fetch('http://localhost:5000/usuarios', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ nombre })
    });

    const data = await res.json();
    respuesta.textContent = data.mensaje || data.error || 'Algo falló';
    form.reset();
  } catch (err) {
    respuesta.textContent = 'Error al conectar con el backend.';
  }
});

  </script>
</body>
</html>
